#!/usr/bin/env ruby

def ask_for_email
    puts 'Input your email: '
    response = gets.chomp
end

def find_user_by_email(email)
    User.find_by_email(email)
end

def ask_for_task
    puts 'Please choose what you want to do'
    puts '0. Create shortened URL'
    puts '1. Visit shortened URL'
    response = gets.chomp
end

def create_or_visit(user)
    if ask_for_task == '0'
        create_short_url(user)
    else
        visit_short_url(user)
    end
end

def create_short_url(user)
    url = ShortenedUrl.generate_short_url(user, ask_for_long_url)
    puts "The short url is #{url.short_url}"
end